<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact Us</title>
  <link rel="stylesheet" href="css/style.css" />
  <style>
    /* Hide success message by default */
    .success-message {
      display: none;
      margin-top: 1rem;
      padding: 1rem;
      background: #e6ffe6;
      color: #2d7a2d;
      border: 1px solid #b3e6b3;
      border-radius: 8px;
      font-weight: bold;
      text-align: center;
    }
  </style>
</head>
<body>
   <!-- Theme Toggle (pinned top-right, does not affect layout) -->
  <label class="theme-switch">
    <input type="checkbox" id="themeToggle">
    <div class="slider" data-light="Light" data-dark="Dark"></div>
  </label>

  <!-- Header / Navigation -->
  <header>
    <h1>Hero’s In Action</h1>
    <p class="subtitle">Promoting safety & trust through fun learning</p>
    <nav class="page-nav">
      <a href="index.html" class="nav-button">Home</a>
      <a href="authors.html" class="nav-button">Meet the Authors</a>
      <a href="heroes.html" class="nav-button">Meet our Heroes </a>
      <a href="contact.html" class="nav-button active">Contact Us</a>
      <a href="feedback.html" class="nav-button">Feedback</a>
    </nav>
  </header>

  <!-- Contact Section -->
  <main>
    <section class="contact-section">
      <!-- Fun Icon -->
      <img 
        src="https://cdn-icons-png.flaticon.com/512/561/561127.png" 
        alt="Mail Icon" 
        class="contact-icon"
      />

      <h2>Contact Us</h2>
      <p>We’d love to hear from you! Please fill out the form below and we’ll get back to you within 1–2 business days.</p>
      
      <form
        action="https://formspree.io/f/manbzdvr"
        class="fs-form"
        method="POST"
        id="contactForm"
      >
        <div class="fs-field">
          <label class="fs-label" for="name">Name</label>
          <input class="fs-input" id="name" name="name" required />
        </div>

        <div class="fs-field">
          <label class="fs-label" for="email">Email</label>
          <input class="fs-input" id="email" name="email" type="email" required />
        </div>

        <div class="fs-field">
          <label class="fs-label" for="message">Message</label>
          <textarea class="fs-textarea" id="message" name="message" rows="5" required></textarea>
          <p class="fs-description">We usually respond within 1–2 business days.</p>
        </div>

        <div class="fs-button-group">
          <button class="fs-button" type="submit">Send Message</button>
        </div>
      </form>

      <!-- Success Message -->
      <div class="success-message" id="successMessage">
        ✅ Thank you! Your message has been sent.
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <p>© 2025 Hero’s In Action LLC – All rights reserved.</p>
  </footer>

  <!-- Formspree AJAX Script -->
  <script>
    document.getElementById('contactForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const form = e.target;
      const data = new FormData(form);
      const button = form.querySelector('.fs-button');
      button.disabled = true;
      button.textContent = 'Sending...';

      try {
        const response = await fetch(form.action, {
          method: 'POST',
          body: data,
          headers: { 'Accept': 'application/json' }
        });

        button.disabled = false;
        button.textContent = 'Send Message';

        if (response.ok) {
          form.style.display = 'none';
          document.getElementById('successMessage').style.display = 'block';
          form.reset();
        } else {
          alert('There was a problem sending your message. Please try again.');
        }
      } catch (error) {
        button.disabled = false;
        button.textContent = 'Send Message';
        alert('Network error. Please check your connection and try again.');
      }
    });
  </script>

  <!-- Theme Toggle Script -->
  <script>
    const toggle = document.getElementById("themeToggle");
    const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;

    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) {
      document.body.classList.add(savedTheme + "-mode");
      toggle.checked = savedTheme === "dark";
    } else {
      document.body.classList.add(prefersDark ? "dark-mode" : "light-mode");
      toggle.checked = prefersDark;
    }

    toggle.addEventListener("change", () => {
      if (toggle.checked) {
        document.body.classList.remove("light-mode");
        document.body.classList.add("dark-mode");
        localStorage.setItem("theme", "dark");
      } else {
        document.body.classList.remove("dark-mode");
        document.body.classList.add("light-mode");
        localStorage.setItem("theme", "light");
      }
    });
  </script>

</body>
</html>
